<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    {% load static %}
    
    <link rel="stylesheet" href="{% static './css/styleAdd.css' %}" />
    <link rel="stylesheet" href="{% static './css/styleList.css' %}" />
    <title>DIOXX_666 - Registro de Residente</title>
  </head>

  <style>
    .mensaje_error {
      opacity: 75%;
      width: 92%;
      padding: 5px;
      color: red;
      border: 1px solid red;
      border-radius: 10px;
      display: block;
      text-align: center;
    }
    .hide {
      display: none;
    }
  </style>

  <body>

    {% include "base/header.html" %}

    <main class="main-content">
      <h1>{{mensaje}}</h1>
      <h3 id="volver">
        <a href="{% url 'listRes' %}">Volver</a>
      </h3>

      <section class="resident-section">
        <form method="POST" action="{% url 'addRes' %}">
          {% csrf_token %}
          <h1 class="section-title">Información del Residente</h1>

          <input type="hidden" id="identificadores" name="identificadores" value="">
          
          <div class="resident-form-container">
            <table class="resident-table">
              <!-- ------------------------------------------------ -->
              <tr>
                <td class="label">RUT:</td>
                <td>
                  {% if rut %}
                  <input id="rut" type="text" name="rut" value="{{rut}}" placeholder="Ingrese el RUT" class="input-field" required/>
                  {% else %}
                  <input id="rut" type="text" name="rut" placeholder="Ingrese el RUT" class="input-field" required/>
                  {% endif %}
                </td>
              </tr>
              <tr>
                <td></td>
                <td><span id="mrut" name="mrut"></span></td>
              </tr>
              <!-- ------------------------------------------------ -->
              <tr>
                <td class="label">Nombre:</td>
                <td>
                  {% if nombre %}
                  <input id="nombre" type="text" name="nombre" value="{{nombre}}" placeholder="Ingrese el nombre" class="input-field" required/>
                  {% else %}
                  <input id="nombre" type="text" name="nombre" placeholder="Ingrese el nombre" class="input-field" required/>
                  {% endif %}
                </td>
              </tr>
              <tr>
                <td></td>
                <td><span id="mnombre" name="mnombre"></span></td>
              </tr>
              <!-- ------------------------------------------------ -->
              <tr>
                <td class="label">Apellido:</td>
                <td>
                  {% if apellido %}
                  <input id="apellido" type="text" name="apellido" value="{{apellido}}" placeholder="Ingrese el apellido" class="input-field" required/>
                  {% else %}
                  <input id="apellido" type="text" name="apellido" placeholder="Ingrese el apellido" class="input-field" required/>
                  {% endif %}
                </td>
              </tr>
              <tr>
                <td></td>
                <td><span id="mapellido" name="mapellido"></span></td>
              </tr>
              <!-- ------------------------------------------------ -->
              <tr>
                <td class="label">Edad:</td>
                <td>
                  {% if edad %}
                  <input id="edad" type="number" name="edad" value="{{edad}}" placeholder="Ingrese la edad" class="input-field" required/>
                  {% else %}
                  <input id="edad" type="number" name="edad" placeholder="Ingrese la edad" class="input-field" required/>
                  {% endif %}
                </td>
              </tr>
              <tr>
                <td></td>
                <td><span id="medad" name="medad"></span></td>
              </tr>
              <!-- ------------------------------------------------ -->
              <tr>
                <td class="label">Contactos:</td>
                <td>
                  {% if contactos %}
                  <input id="contactos" type="text" name="contactos" value="{{contactos}}" placeholder="Ingrese contactos de familiares" class="input-field" />
                  {% else %}
                  <input id="contactos" type="text" name="contactos" placeholder="Ingrese contactos de familiares" class="input-field" />
                  {% endif %}
                </td>
              </tr>
              <tr>
                <td></td>
                <td><span id="mcontactos" name="mcontactos"></span></td>
              </tr>
              <!-- ------------------------------------------------ -->
              <tr>
                <td class="label">Número de emergencia:</td>
                <td>
                  {% if nroEmergencia %}
                  <input id="nroEmergencia" type="text" name="nroEmergencia" value="{{nroEmergencia}}" placeholder="Ingrese número de emergencia" class="input-field" />
                  {% else %}
                  <input id="nroEmergencia" type="text" name="nroEmergencia" placeholder="Ingrese número de emergencia" class="input-field" />
                  {% endif %}
                </td>
              </tr>
              <tr>
                <td></td>
                <td><span id="mnroemer" name="mnroemer"></span></td>
              </tr>
              <!-- ------------------------------------------------ -->
              <tr>
                <td class="label">Exámenes:</td>
                <td>
                  <button class="upload-button">Subir</button>
                </td>
              </tr>
            </table>
          </div>

          <div class="table-section">
            <h3 class="section-subtitle">Recetas Médicas</h3>
            <div class="table-container">
              <table class="residents-table">
                <thead>
                  <tr>
                    <th>Medicamento</th>
                    <th>Cantidad por dosis</th>
                    <th>Horario</th>
                  </tr>
                </thead>
                <tbody>
                  <tr id="med-row">
                    <td>
                      <input id="nombre_medicamento" type="text" name="nombre_medicamento" placeholder="Nombre del medicamento" class="input-field hide" />
                      <span class="hide" id="mNomMed"></span>
                    </td>
                    <td>
                      <input id="cantDosis" type="number" name="cantDosis" placeholder="Cantidad por dosis" class="input-field hide" />
                      <span class="hide" id="mCantDosis"></span>
                    </td>
                    <td>
                      <input id="horario" type="text" name="horario" placeholder="Horario" class="input-field hide" />
                      <span class="hide" id="mhorario"></span>
                    </td>
                  </tr>
                  <!-- ---------------------------------------------------------------------------------- -->
                  <tr id="last-row">
                    <td></td><td style="display: flex; justify-content: center;">
                      <input id="btn-otro" type="button" value="+" class="add-button">
                    </td><td></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="add-button-container">
            <input type="submit" value="Agregar" class="add-button"/>
          </div>
        </form>
      </section>
    </main>
  </body>
  <script src="{% static './js/validacionResidente.js' %}"></script>
</html>
    